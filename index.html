<!DOCTYPE html>
<html lang="ja">
   <head>
      <title>ピンポン</title>
      <meta name="viewport" content="width=device-width" />
      <style>
         html {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            text-align: center;
            background-color: white;
            font-size: 16px;
         }

         body {
            width: 100%;
            height: 100%;
            margin: auto;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-direction: column;
         }

         #up {
            width: 100%;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
         }

         img {
            height: 100%;
            aspect-ratio: 9 / 16;
            display: none;
         }

         button {
            border: 0;
            width: 40vh;
            height: 40vh;
            border-radius: 50%;
            background-color: red;
            display: block;
            color: white;
            font-family: "ヒラギノ角ゴ Pro W3", "Noto Sans JP",
               "ＭＳ Ｐゴシック", "游ゴシック";
            font-size: 7.5rem;
         }
      </style>
   </head>
   <body>
      <div id="up">
         <img src="./up.jpeg" id="up_image"/>
      </div>
      <button id="button">Push!</button>

      <script>
            const url = "./pinpon.wav";
            const audio = new Audio();
            audio.src = url;
            audio.loop = false;
            audio.muted = false;
            audio.preload = "auto";
            const up_image=document.getElementById("up_image");
            const button = document.getElementById("button");
            button.addEventListener(
               "click",
               (e) => {
                  audio.currentTime = 0;
                  audio.play();
                  up_image.style.display="block";
                  setTimeout(handsDown,2000);
               },
               { passing: true }
            );
            fitButton();

         window.addEventListener("resize", fitButton, { passive: true });

         function fitButton() {
            if (button.clientWidth / 5 < 64) {
               button.style.fontSize = `${
                  7.5 * (button.clientWidth / 5 / 64)
               }rem`;
            } else {
               button.style.fontSize = "7.5rem";
            }
         }

         function handsDown(){
            up_image.style.display="none";
         }
      </script>
   </body>
</html>
